-- public.etalaze_product definition

-- Drop table

 DROP TABLE public.etalaze_product;

CREATE TABLE public.etalaze_product (
	id bigserial NOT NULL,
	product_name varchar NULL,
	category varchar NULL,
	price numeric NULL,
	CONSTRAINT etalaze_product_pk PRIMARY KEY (id)
);


-- public.etalaze_product foreign keys

ALTER TABLE public.etalaze_product ADD CONSTRAINT etalaze_product_fk FOREIGN KEY (category) REFERENCES public.etalaze_category(category_name);

INSERT INTO public.etalaze_product (id, product_name, category, price) VALUES(1, 'SMS SINGLE', 'SMS', 120000);
INSERT INTO public.etalaze_product (id, product_name, category, price) VALUES(2, 'SMS PERSONALIZE', 'SMS', 200000);
INSERT INTO public.etalaze_product (id, product_name, category, price) VALUES(3, 'WHATSAPP PUSH', 'WHATSAPP', 150000);
INSERT INTO public.etalaze_product (id, product_name, category, price) VALUES(4, 'VOICE SINGLE', 'VOICE', 140000);
INSERT INTO public.etalaze_product (id, product_name, category, price) VALUES(5, 'VOICE PERSONALIZE', 'VOICE', 240000);

-- public.etalaze_user_use_product definition

-- Drop table

-- DROP TABLE public.etalaze_user_use_product;

CREATE TABLE public.etalaze_user_use_product (
	user_id bigserial NOT NULL,
	product_id bigserial NOT NULL,
	is_enable bool NULL,
	CONSTRAINT etalaze_user_use_product_pk PRIMARY KEY (user_id, product_id)
);

sELECT * FROM "user_api"
where username = 'Gr3nPkG1';

sELECT tsd.* FROM transaction_sms_dlr tsd
left join transaction_sms ts on ts.message_id = tsd.message_id 
where tsd.dlr_status = '000' and ts.receiver_type = 'SMPP' order by dlr_date_time desc limit 10;

--select by tracecode 
select *
from client c  
where c.client_id  in (
'T00201110041112','T01201110021157','T01201110041100','T01201217051235','T0121010409124','T0121011503114','T0121022604245','T0121051009525','T0121071211750','T0121073003736','T0121082802801','T01211208061236','T01211208061248','T0220090405937','T02201110021157','T02201110041119','T02201217051246','T0221010409136','T0221011503125','T0221051009533','T0221071211711','T0221082802816','T0320090502904','T03201110021116','T03201110041138','T03201217051256','T0321010409146','T0321011503134','T0321051009542','T0321071211728','T0321082802832','T0420090502953','T04201110021127','T04201110041107','T04201217051205','T0421010409157','T0421011503143','T0421051009553','T0421071211746','T0421082802848','T0520090502920','T05201110021108','T05201110041126','T05201217051214','T0521010409108','T0521011503153','T0521051009503','T0521071211709','T0521082802802','T0620090502904','T06201110041159','T06201123051123','T06201217051224','T0621011503103','T0621051009513','T0621071211728','T0621082802817','T0720090502945','T07201110041119','T07201123051143','T07201217051234','T0721011503113','T0721051009523','T0721071211746','T0721082802831','T0820090912902','T08201110041137','T08201123051110','T08201217051244','T0821011503125','T0821051009539','T0821071211706','T0821082802845','T0920090909939','T09201110041159','T09201123051143','T09201217051257','T0921011503150','T0921051009553','T0921071211723','T0921082802859','T1020090910924','T10201110041119','T10201123051103','T10201217051208','T1021011503102','T1021051009507','T1021071211748','T1021082802818','T1120091307916','T11201123021137','T11201123051132','T1121011503111','T1121051009531','T1121071211703','T1121082802803','T1220091512915','T12201123021128','T12201123051151','T1221011503122','T1221051009540','T1221071211719','T1221082802820','T1320091512933','T13201123021101','T13201123051110','T1321011503133','T1321051009549','T1321071211740','T1321082802835','T1420091512943','T14201123021125','T14201123051140','T1421011503143','T1421051009500','T1421071211758','T1421082802850','T1520091512954','T15201123021147','T15201123051104','T1521011503152','T1521051009541','T1521071211714','T1521082802805','T1620091503907','T16201123021108','T16201123051132','T1621011503109','T1621051009554','T1621071211734','T1621082802820','T1720091503917','T17201123021141','T17201123051101','T1721011503132','T1721051009505','T1721071211750','T1721082802801','T1820091503930','T18201123021104','T18201123051133','T1821011503147','T1821051009517','T1821071211706','T1821082802838','T1920091503941','T19201123021124','T19201123051151','T1921011503157','T1921051009531','T1921071211721','T1921082802852','T2020091503955','T20201123021147','T20201123051121','T2021011503108','T2021051009543','T2021071211736','T2021082802807','T2120091503904','T21201123021131','T21201123051146','T2121011503119','T2121061511631','T2122032203301','T2220091503914','T22201123021158','T22201123051110','T2221011503129','T2221061511607','T2222032203313','T2320091503925','T23201123021127','T23201123051134','T2321011503142','T2321061511622','T2322032203335','T2420091503936','T24201123021149','T24201123051157','T2421011503153','T2421061511644','T2422032203349','T2520091503949','T25201123021138','T25201123051116','T2521011503104','T2521061511659','T2522032203305','T2620091611922','T26201123021101','T2621011503115','T2621061511618','T2720091611931','T27201123021133','T2721011503125','T2721061511631','T2820091611941','T28201123021106','T2821011503134','T2821061511647','T2920091611951','T29201123021131','T2921011503144','T2921061511601','T3020091611902','T30201123021151','T3021011503154','T3021061511629','T3120091611910','T3121021002203','T3121061511645','T3220091611922','T3221021002225','T3221061511659','T3320091611931','T3321021002247','T3321061511614','T3420091611940','T3421021002207','T3421061511637','T3520091611952','T3521021002227','T3521061511653','T3620091612956','T3621021002252','T3621061511614','T3720091612907','T3721021002212','T3721061511627','T3820091612922','T3821021002232','T3821061511642','T3920091612936','T3921021002252','T3921061511612','T4020091612946','T4021021002212','T4021061511628','T4120092306954','T4121021002250','T4220092306906','T4221021002209','T4320092306933','T4321021002229','T4420092306954','T4421021002256','T4520092306904','T4521021002214','T4620092306918','T4621021002232','T4720092306934','T4721021002257','T4820092306945','T4821021002216','T4920092306959','T4921021002236','T5020092306915','T5021021002257','T5120092812904','T5220092812914','T5221022702258','T5320092812925','T5321022703209','T5420092812935','T5421022703220','T5520092812948','T5521022703241','T56201010051041','T5621022703242','T57201010051053','T5721022703209','T58201010051002','T5821022703218','T59201010051011','T5921022703231','T60201010051021','T6021022703242','T61201010051015','T6121022704204','T62201010051024','T6221022704252','T63201010051034','T6321022704203','T64201010051043','T6421022704230','T65201010051052','T6521022704242','T66201022101017','T6621022704209','T67201022101027','T6721022704224','T68201022101037','T6821022704249','T69201022101056','T6921022704202','T70201022101008','T7021022704222','T71201022101021','T7121022704233','T72201022101033','T7221022704204','T73201022101043','T7321022704215','T74201022101053','T7421022704240','T75201022101002','T7521022704256','T76201022101013','T77201022101023','T78201022101032','T79201022101041','T80201022101053','T81201022101002','T82201022101015','T83201022101026','T84201022101038','T85201022101047','T86201022101005','T87201022101013','T88201022101022','T89201022101053','T90201022101000','T91201110031141','T92201110041108','T93201110041130','T94201110041150','T95201110041111','T96201110041148','T97201110041110','T98201110041132','T99201110041151','TAN20090412932','TNG20060102641','TNG20092511902','TNG211029041041','TNG211102081101','TTD21072611727','TUO20052710525'
);

--UPdate by tracecode 
update client c
set is_active = 'false'
where client_id  in (
'T00201110041112','T01201110021157','T01201110041100','T01201217051235','T0121010409124','T0121011503114','T0121022604245','T0121051009525','T0121071211750','T0121073003736','T0121082802801','T01211208061236','T01211208061248','T0220090405937','T02201110021157','T02201110041119','T02201217051246','T0221010409136','T0221011503125','T0221051009533','T0221071211711','T0221082802816','T0320090502904','T03201110021116','T03201110041138','T03201217051256','T0321010409146','T0321011503134','T0321051009542','T0321071211728','T0321082802832','T0420090502953','T04201110021127','T04201110041107','T04201217051205','T0421010409157','T0421011503143','T0421051009553','T0421071211746','T0421082802848','T0520090502920','T05201110021108','T05201110041126','T05201217051214','T0521010409108','T0521011503153','T0521051009503','T0521071211709','T0521082802802','T0620090502904','T06201110041159','T06201123051123','T06201217051224','T0621011503103','T0621051009513','T0621071211728','T0621082802817','T0720090502945','T07201110041119','T07201123051143','T07201217051234','T0721011503113','T0721051009523','T0721071211746','T0721082802831','T0820090912902','T08201110041137','T08201123051110','T08201217051244','T0821011503125','T0821051009539','T0821071211706','T0821082802845','T0920090909939','T09201110041159','T09201123051143','T09201217051257','T0921011503150','T0921051009553','T0921071211723','T0921082802859','T1020090910924','T10201110041119','T10201123051103','T10201217051208','T1021011503102','T1021051009507','T1021071211748','T1021082802818','T1120091307916','T11201123021137','T11201123051132','T1121011503111','T1121051009531','T1121071211703','T1121082802803','T1220091512915','T12201123021128','T12201123051151','T1221011503122','T1221051009540','T1221071211719','T1221082802820','T1320091512933','T13201123021101','T13201123051110','T1321011503133','T1321051009549','T1321071211740','T1321082802835','T1420091512943','T14201123021125','T14201123051140','T1421011503143','T1421051009500','T1421071211758','T1421082802850','T1520091512954','T15201123021147','T15201123051104','T1521011503152','T1521051009541','T1521071211714','T1521082802805','T1620091503907','T16201123021108','T16201123051132','T1621011503109','T1621051009554','T1621071211734','T1621082802820','T1720091503917','T17201123021141','T17201123051101','T1721011503132','T1721051009505','T1721071211750','T1721082802801','T1820091503930','T18201123021104','T18201123051133','T1821011503147','T1821051009517','T1821071211706','T1821082802838','T1920091503941','T19201123021124','T19201123051151','T1921011503157','T1921051009531','T1921071211721','T1921082802852','T2020091503955','T20201123021147','T20201123051121','T2021011503108','T2021051009543','T2021071211736','T2021082802807','T2120091503904','T21201123021131','T21201123051146','T2121011503119','T2121061511631','T2122032203301','T2220091503914','T22201123021158','T22201123051110','T2221011503129','T2221061511607','T2222032203313','T2320091503925','T23201123021127','T23201123051134','T2321011503142','T2321061511622','T2322032203335','T2420091503936','T24201123021149','T24201123051157','T2421011503153','T2421061511644','T2422032203349','T2520091503949','T25201123021138','T25201123051116','T2521011503104','T2521061511659','T2522032203305','T2620091611922','T26201123021101','T2621011503115','T2621061511618','T2720091611931','T27201123021133','T2721011503125','T2721061511631','T2820091611941','T28201123021106','T2821011503134','T2821061511647','T2920091611951','T29201123021131','T2921011503144','T2921061511601','T3020091611902','T30201123021151','T3021011503154','T3021061511629','T3120091611910','T3121021002203','T3121061511645','T3220091611922','T3221021002225','T3221061511659','T3320091611931','T3321021002247','T3321061511614','T3420091611940','T3421021002207','T3421061511637','T3520091611952','T3521021002227','T3521061511653','T3620091612956','T3621021002252','T3621061511614','T3720091612907','T3721021002212','T3721061511627','T3820091612922','T3821021002232','T3821061511642','T3920091612936','T3921021002252','T3921061511612','T4020091612946','T4021021002212','T4021061511628','T4120092306954','T4121021002250','T4220092306906','T4221021002209','T4320092306933','T4321021002229','T4420092306954','T4421021002256','T4520092306904','T4521021002214','T4620092306918','T4621021002232','T4720092306934','T4721021002257','T4820092306945','T4821021002216','T4920092306959','T4921021002236','T5020092306915','T5021021002257','T5120092812904','T5220092812914','T5221022702258','T5320092812925','T5321022703209','T5420092812935','T5421022703220','T5520092812948','T5521022703241','T56201010051041','T5621022703242','T57201010051053','T5721022703209','T58201010051002','T5821022703218','T59201010051011','T5921022703231','T60201010051021','T6021022703242','T61201010051015','T6121022704204','T62201010051024','T6221022704252','T63201010051034','T6321022704203','T64201010051043','T6421022704230','T65201010051052','T6521022704242','T66201022101017','T6621022704209','T67201022101027','T6721022704224','T68201022101037','T6821022704249','T69201022101056','T6921022704202','T70201022101008','T7021022704222','T71201022101021','T7121022704233','T72201022101033','T7221022704204','T73201022101043','T7321022704215','T74201022101053','T7421022704240','T75201022101002','T7521022704256','T76201022101013','T77201022101023','T78201022101032','T79201022101041','T80201022101053','T81201022101002','T82201022101015','T83201022101026','T84201022101038','T85201022101047','T86201022101005','T87201022101013','T88201022101022','T89201022101053','T90201022101000','T91201110031141','T92201110041108','T93201110041130','T94201110041150','T95201110041111','T96201110041148','T97201110041110','T98201110041132','T99201110041151','TAN20090412932','TNG20060102641','TNG20092511902','TNG211029041041','TNG211102081101','TTD21072611727','TUO20052710525'
);